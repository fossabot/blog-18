<picture itemscope itemtype="http://schema.org/ImageObject">
    {{ $avifPath:= replace (replace .Destination ".jpg" ".avif") ".png" ".avif" | strings.TrimSuffix "#center" }}
    {{ $avifPathStatic:= printf "static/%s" $avifPath }}

    {{ if (fileExists $avifPathStatic) -}}
    <source srcset="{{ $avifPath | safeURL }}" type="image/avif">
    {{- end }}

    {{ $webpPath:= replace (replace .Destination ".jpg" ".webp") ".png" ".webp" | strings.TrimSuffix "#center" }}
    {{ $webpPathStatic:= printf "static/%s" $webpPath }}

    {{ if (fileExists $webpPathStatic) -}}
    <source srcset="{{ $webpPath | safeURL }}" type="image/webp">
    {{- end }}

    <link itemprop="contentUrl" href="{{ .Destination | strings.TrimSuffix "#center" }}">
    <meta itemprop="description" content="{{ .Text }}">

    <img
        src="{{ .Destination | safeURL }}"
        alt="{{ .Text }}"
        loading="lazy"
        decoding="async"
    {{ if not (strings.HasSuffix .Destination ".svg")}}
    {{ $img := imageConfig (add "/static" (.Destination | safeURL | strings.TrimSuffix "#center")) }}
        width="{{ $img.Width }}"
        height="{{ $img.Height }}"
    />
    <meta itemprop="width" content="{{ $img.Width }}">
    <meta itemprop="height" content="{{ $img.Height }}">
    {{- else }}
    />
    {{- end }}
</picture>
